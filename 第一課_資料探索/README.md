# 資料探索

後來想一想覺得資料清洗很無聊有點沒必要，換一下思路聊一下資料探索。

## 觀察資料

請你使用 python 中的 pandas 開啟 daily_kbars.db 的資料庫中的資料表對其進行調查。

- 資料表名稱為 daily_kbars
- 資料的欄位狀態為：(
        ts TIMESTAMP NOT NULL,         // 交易時間（時間戳記）
        stock_code TEXT NOT NULL,      // 股票代號
        Open REAL NOT NULL,            // 開盤價
        High REAL NOT NULL,            // 最高價
        Low REAL NOT NULL,             // 最低價
        Close REAL NOT NULL,           // 收盤價
        Volume INTEGER NOT NULL,       // 成交量
        PRIMARY KEY (ts, stock_code)
    )

### 註

PRIMARY KEY 是資料庫中的一個特殊欄位，被定義為 PKey 的欄位將會是必填的項目，用來識別這筆資料的唯一性。一張表中不會存在兩個 PKey
相同的資料並且如果進行 SELECT (查詢)的 SQL 語法時， PKey 會加速搜尋的速度。在這個專案的例子中，不會存在兩個相同的時間以及股票代號
資料。

## 問題

請幫我思考下列問題：

1. 看到這份資料應該問些什麼問題？
2. 資料量很多的時候應該如何分析？

## 我認為的解答

1. 看到這份資料首先要注意的是欄位名稱中有哪些類別的資料，我們可以看到有四大類別的資料 時間 股票代號 價格 成交量，這裡面分成兩組
    - 時間, 股票代號：這組是跟交易本身無關的
    - 價格, 成交量：這是跟交易本身相關的
   
   我們可以思考的地方是這兩組分別有哪些特性我們應該知道？先討論交易無關的那組：
   
   首先是時間的小時與分鐘是不是怪怪的？因為通常股票交易都是在早上九點到
   下午的1點30分，但是資料卻是由凌晨一點開始？
   - 原因很可能是因為資料源在計算交易的時候是由凌晨一點開始算的一個錯誤註記，可以的話應該要改過來

   接下來我會思考的是 是不是每一檔股票每天的每一分鐘都有資料？還是沒有

   然後我會想沒有資料的這些是怎麼回事？(通常這裡要問 PM)，這狀況通常是因為不是每一分鐘都有交易，甚至有些股票很冷門一整天都沒有人交易

   再來我會想一個問題：股票代號會不會有一些新上市的股票，所以某些時間以前沒有？

   接著我們討論一下與交易有關的那幾個欄位：
   
   首先可以關注的是成交量跟價格會有 0 或是負的嗎？

   最高價有沒有真的是最高價還是有可能其他價格比最高價高等等的想法


## 安安的一些話

這個章節主要是希望你可以試試看觀察資料的狀況，思考並且提出問題，驗證你提出的猜想之後了解資料的狀況，有很多時候這些猜想是資料到我們手上的第一步，需要先
知道資料大概的樣子有沒有奇怪的例外，如果沒有想到也沒關係，因為我也很常沒有想到這麼多的東西。可以講這麼多是因為這是我最熟悉的主題XD。

## 注意事項

看完累了請休息划划手機耍個廢，看我的限動。疲累的時候工作是不道德的。
